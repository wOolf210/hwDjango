{% extends "base.html" %}
{% load thumbnail %}
{% block title %}Галерея{% endblock %}
{% block content %}
<h1>Галерея c миниатюрами (easy-thumbnails)</h1>
{% if photos %}
  <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;">
    {% for p in photos %}
      <div class="card">
        {# фильтр по пресету 'default' #}
        <img src="{{ p.image|thumbnail_url:'default' }}" alt="" style="width:100%;height:auto;border-radius:8px;">
        <div><b>{{ p.caption|default:"—" }}</b></div>
        <div style="font-size:12px;color:#555">Оригинал: {{ p.width }}×{{ p.height }}</div>
        <div style="margin-top:6px">
          <a class="btn" href="{{ p.image.url }}" target="_blank">Открыть оригинал</a>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p>Пока нет фото.</p>
{% endif %}
{% endblock %}
